# 关于此书籍预约系统的一些简要使用说明

[TOC]

## A. 系统功能简介
### 书籍预约系统用户端
1. 进入首页显示欢迎界面，确认后加载所有书籍
2. 导航栏菜单提供书籍列表、书籍搜索和预定情况查询的功能：
    - 书籍列表：点击按照默认排序规则分页展示当前可预约的所有书籍
    - 搜索书籍：输入关键字或关键词后查找并在页面加载对应书籍，支持模糊搜索
    - 预定情况查询：输入学号查询对应订单，并可对订单进行更改
3. 订单提交：选择好书籍后输入预约信息提交订单，**学号作为唯一凭证**，若该学号已存在订单则系统会给出提示，且不会将此操作写入数据库或覆盖原订单数据
4. 订单修改：
    - 成功提交订单后会自动弹出订单信息，底部有修改按钮可以使用户修改订单，包括预约书籍、学生信息、预约时间的修改（学号除外）
    - 使用“预定情况查询”功能通过学号查询到的订单信息与成功提交订单后弹出的订单信息相同，同样提供修改功能，且保证了用户可以在任意时间重新选择书籍或修改订单
5. 书籍的显示列表按照书籍的录入时间排序（新加入的排在前面），并将剩余数量为 0 的书籍排在最后
6. 前端和后台都有做处理，保证每位同学最多选择三本书籍，且每种书籍最多选择一本

### 书籍预约系统管理端
1. 查看所有书籍信息：登录后页面将显示当前数据库中存放的所有书籍信息
2. 添加书籍
    - 扫描图书的 ISBN 通过豆瓣 API 获取书籍信息
      - ISBN 不存在且获取失败：提示稍后手动录入，界面不变以便继续录入其它书籍
      - ISBN 不存在且获取成功：自动导入书籍信息并设置数量为 1，提示书籍新增成功并给出书籍编号
      - ISBN 已存在：书籍数量自动增加一，提示书籍添加成功
    - 手动录入书籍信息并提交后即可成功新增书籍
3. 更新书籍：输入书籍 ID 获取对应信息进行修改
    - 考虑到主要的修改应该是书籍数量的更新，加载到书籍信息后光标会定位在书籍剩余数量的输入框
4. 查看所有预约订单：
    - 可通过书籍管理系统顶部导航栏的“查看所有订单”链接进入
    - 页面显示当前数据库中存放的所有订单信息

## B. 书籍信息录入注意事项
系统使用 ISBN 通过豆瓣的 API 获取书籍数据信息
1. 若豆瓣有对应的书则只需要直接通过扫码枪扫进条码或手动输入后按回车即可录入书籍
2. 对于豆瓣没有的书籍，将只能手动录入，书籍封面图片默认为预设图片，但可以自己上网找链接填入
3. 具体来说，豆瓣搜索无结果需要手动输入以下数据：
    - 书名
    - 作者（多个作者只填写第一个）
    - 是否多作者书籍（是则勾选“多作者”框）
    - 出版社（多个出版社只填写第一个）
    - 出版日期
    - 数量（默认为 1）
    - 书籍封面图片的网页链接（没有可不填）

## C. 管理端使用相关注意事项
### 系统与账号
1. 管理端的 URL 随机字符串在 `.env` 里的 `ADMIN_PATH` 配置
2. 管理端目前内置两个账号，密码与账户名相同：
    - `superadmin`：拥有全局系统管理权限
    - `booksadmin`：仅拥有书籍管理权限，无法查看所有订单

### 操作与管理
3. **推荐使用 PC 登录**管理端，当然如果觉得手机录入的效率更高也可以使用手机，管理端的两个页面（包括书籍信息页面和订单信息页面）都有做手机端的适配
4. 管理端会直接加载所有书籍的封面图片，所以在使用手机登录或连接手机热点的情况下请留意**流量消耗**问题
5. 为了防止误操作，同时考虑到在系统上线期间可能有更改剩余数量等信息的需求，书籍信息在录入之后是不能删除的，若有删除的需求请直接**将剩余数量设置为零**

### 分发与验证
6. 每份预约订单的订单号是预约用户和管理员双方都可见的，且管理员通过订单号查询对应订单信息效率较高， 所以在领取书籍时可以使用订单号作为凭证以方便查找
7. 由于学号是预约系统使用的唯一凭证，且更改订单也只能在知道学号的情况下进行，所以建议在领书时通过学生卡对姓名和学号信息进行确认

## D. 预约系统相关注意事项
1. 在书籍添加进列表后，页面显示的该书籍数量会减少一本，为零时变成灰色且不可点击，但若从预约书籍列表中删除一本书时，页面显示上的改变仅为从列表中去除此书，而**不会将页面中对应书籍数量加回去**
2. 当列表中某本书的最后一份已经被其他同学预约走时，系统会给出提示，之后自动清空列表、弹出欢迎界面以重新加载所有书籍信息，但预约信息不会清空，即只需要重新选择书籍提交即可

## E. 浏览器支持
前端使用的是 [Materialize](http://materializecss.com/) 框架，[官网给的浏览器支持信息](https://github.com/Dogfalo/materialize#supported-browsers)是：
> ## Supported Browsers:
> Materialize is compatible with:
> - Chrome 35+
> - Firefox 31+
> - Safari 7+
> - Opera
> - Edge
> - IE 10+

管理模块建议使用 Chrome/Firefox 等浏览器访问以进行相关的管理和查看操作
